{"mappings":"AAAA,wCAAwC;AACxC,eAAe;IACb,MAAM,MAAM,MAAM,MAAM;IACxB,IAAI,CAAC,IAAI,EAAE,EAAE,OAAO,CAAC;IACrB,OAAO,MAAM,IAAI,IAAI;AACvB;AAEA,uCAAuC;AACvC,SAAS,kBAAkB,cAAc,EAAE,IAAI;IAC7C,wBAAwB;IACxB,MAAM,MAAM,eAAe,aAAa,CAAC;IACzC,IAAI,KAAK,IAAI,GAAG,GAAG,KAAK,KAAK,IAAI;IAEjC,qBAAqB;IACrB,MAAM,QAAQ,eAAe,aAAa,CAAC;IAC3C,IAAI,OAAO,MAAM,WAAW,GAAG,KAAK,IAAI,IAAI;IAE5C,qBAAqB;IACrB,MAAM,cAAc,eAAe,aAAa,CAAC;IACjD,IAAI,aAAa,YAAY,WAAW,GAAG,KAAK,WAAW,IAAI;IAE/D,kCAAkC;IAClC,IAAI,CAAC,eAAe,aAAa,CAAC,oBAAoB;QACpD,MAAM,WAAW,SAAS,aAAa,CAAC;QACxC,SAAS,SAAS,GAAG;QACrB,SAAS,WAAW,GAAG,KAAK,KAAK,GAAG,KAAK,KAAK,GAAG,SAAS;QAC1D,eAAe,WAAW,CAAC;IAC7B,OAAO;QACL,MAAM,WAAW,eAAe,aAAa,CAAC;QAC9C,SAAS,WAAW,GAAG,KAAK,KAAK,GAAG,KAAK,KAAK,GAAG,SAAS;IAC5D;AACF;AAEA,2BAA2B;AAC3B,MAAM,WAAW;IAAC;IAAU;IAAW;IAAa;IAAY;CAAS;AAEzE,qEAAqE;AACrE,SAAS,iBAAiB,IAAI;IAC5B,kCAAkC;IAClC,MAAM,eAAe,SAAS,gBAAgB,CAAC;IAE/C,8EAA8E;IAC9E,IAAI,YAAY;IAEhB,yBAAyB;IACzB,SAAS,OAAO,CAAC,CAAA;QACf,gCAAgC;QAChC,IAAI,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,EAC/B,yBAAyB;QACzB,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAA;YAChB,6CAA6C;YAC7C,IAAI,YAAY,aAAa,MAAM,EAAE;gBACnC,kBAAkB,YAAY,CAAC,UAAU,EAAE;gBAC3C;YACF;QACF;IAEJ;IAEA,+DAA+D;IAC/D,IAAK,IAAI,IAAI,WAAW,IAAI,aAAa,MAAM,EAAE,IAC/C,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,OAAO,GAAG;AAEpC;AAEA,eAAe;AACf,SAAS,gBAAgB,CAAC,oBAAoB;IAC5C,QAAQ,GAAG,CAAC;IAEZ,4BAA4B;IAC5B,MAAM,OAAO,MAAM;IACnB,iBAAiB;IAEjB,kCAAkC;IAClC,SAAS,gBAAgB,CAAC,UAAU,OAAO,CAAC,CAAA;QAC1C,GAAG,gBAAgB,CAAC,SAAS;YAC3B,GAAG,SAAS,CAAC,MAAM,CAAC;QACtB;IACF;AACF","sources":["src/scripts/main.js"],"sourcesContent":["// --- Dynamic weekly menu rendering ---\r\nasync function fetchMenu() {\r\n  const res = await fetch('/api/menu');\r\n  if (!res.ok) return {};\r\n  return await res.json();\r\n}\r\n\r\n// Функция обновления карточки продукта\r\nfunction updateProductCard(productElement, item) {\r\n  // Обновляем изображение\r\n  const img = productElement.querySelector('img');\r\n  if (img) img.src = item.image || '';\r\n  \r\n  // Обновляем название\r\n  const title = productElement.querySelector('.product__title');\r\n  if (title) title.textContent = item.name || '';\r\n  \r\n  // Обновляем описание\r\n  const description = productElement.querySelector('.product__text');\r\n  if (description) description.textContent = item.description || '';\r\n  \r\n  // Добавляем цену, если её ещё нет\r\n  if (!productElement.querySelector('.product__price')) {\r\n    const priceDiv = document.createElement('div');\r\n    priceDiv.className = 'product__price';\r\n    priceDiv.textContent = item.price ? item.price + ' NOK' : '';\r\n    productElement.appendChild(priceDiv);\r\n  } else {\r\n    const priceDiv = productElement.querySelector('.product__price');\r\n    priceDiv.textContent = item.price ? item.price + ' NOK' : '';\r\n  }\r\n}\r\n\r\n// Константа с днями недели\r\nconst WEEKDAYS = ['monday', 'tuesday', 'wednesday', 'thursday', 'friday'];\r\n\r\n// Функция, отображающая меню, заменяя содержимое существующих блоков\r\nfunction renderWeeklyMenu(menu) {\r\n  // Получаем все карточки продуктов\r\n  const productCards = document.querySelectorAll('.main__product');\r\n  \r\n  // Если блоков недостаточно для всех блюд, будем использовать только доступные\r\n  let cardIndex = 0;\r\n  \r\n  // Обходим все дни недели\r\n  WEEKDAYS.forEach(day => {\r\n    // Если есть блюда для этого дня\r\n    if (menu[day] && menu[day].length) {\r\n      // Обновляем каждое блюдо\r\n      menu[day].forEach(item => {\r\n        // Если есть доступная карточка, обновляем её\r\n        if (cardIndex < productCards.length) {\r\n          updateProductCard(productCards[cardIndex], item);\r\n          cardIndex++;\r\n        }\r\n      });\r\n    }\r\n  });\r\n  \r\n  // Если блюд меньше, чем карточек, скрываем оставшиеся карточки\r\n  for (let i = cardIndex; i < productCards.length; i++) {\r\n    productCards[i].style.display = 'none';\r\n  }\r\n}\r\n\r\n// Entry script\r\ndocument.addEventListener('DOMContentLoaded', async () => {\r\n  console.log(\"App loaded\");\r\n  \r\n  // Загрузка и рендеринг меню\r\n  const menu = await fetchMenu();\r\n  renderWeeklyMenu(menu);\r\n  \r\n  // Добавление обработчиков событий\r\n  document.querySelectorAll('.title').forEach(el => {\r\n    el.addEventListener('click', () => {\r\n      el.classList.toggle('active');\r\n    });\r\n  });\r\n});\r\n"],"names":[],"version":3,"file":"fordypningsprosjekt-1-liena-grytsyna.f75de5e1.js.map","sourceRoot":"/__parcel_source_root/"}